<ion-content [fullscreen]="true" class="page" *ngIf="workout && currentExercise">

  <ion-button class="back-btn" fill="clear" (click)="goBack()">
    <i class="fa-regular fa-circle-left"></i>
  </ion-button>

  <div class="workout-header">
    <h2>{{ workout.title }}</h2>
  </div>

  <div class="exercise-card">

    <!-- BROJAČ -->
    <div class="counter-box">
      Step {{ currentIndex + 1 }} / {{ previewList.length }}
    </div>

    <!-- NASLOV (MAIN / SUPERSET) -->
    <h3 *ngIf="!isSupersetNow">
      Exercise {{ currentMainIndex }}
    </h3>

    <h3 *ngIf="isSupersetNow">
      Exercise {{ currentMainIndex }} — Superset
    </h3>

    <!-- VIDEO -->
    <div class="video-container">
      <video *ngIf="currentExercise?.videoUrl" [src]="currentExercise.videoUrl" autoplay loop [muted]="true" playsinline
        class="exercise-video">
      </video>

      <div *ngIf="!currentExercise?.videoUrl" class="video-placeholder">
        <p>No video available.</p>
      </div>
    </div>

    <!-- IME I OPIS -->
    <h2 *ngIf="!isSupersetNow">{{ currentExercise?.name }}</h2>

    <h2 *ngIf="isSupersetNow">Superset: {{ currentExercise?.name }}</h2>

    <p>{{ currentExercise?.description || 'No description available.' }}</p>

  </div>

  <!-- NAVIGACIJA -->
  <div class="nav-buttons">
    <ion-button fill="outline" (click)="prevExercise()" [disabled]="currentIndex === 0">
      Previous
    </ion-button>

    <ion-button fill="outline" (click)="nextExercise()" [disabled]="currentIndex === previewList.length - 1">
      Next
    </ion-button>
  </div>

</ion-content>